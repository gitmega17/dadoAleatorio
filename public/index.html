<script>
    // Função para capturar os valores dos inputs e enviar ao backend
    async function enviarDadosAjustados() {
        const dados = {
            dados_sensores_motores: {
                Motor01: {
                    Temperatura: {
                        min: parseInt(tempMin.value),
                        max: parseInt(tempMax.value)
                    },
                    Frequencia: {
                        min: parseInt(freqMin.value),
                        max: parseInt(freqMax.value)
                    },
                    Corrente: {
                        min: parseFloat(correnteMin.value),
                        max: parseFloat(correnteMax.value)
                    },
                    Pressao: {
                        min: parseFloat(pressaoMin.value),
                        max: parseFloat(pressaoMax.value)
                    }
                },
                Motor02: {
                    Temperatura: {
                        min: parseInt(tempMin.value),
                        max: parseInt(tempMax.value)
                    },
                    Frequencia: {
                        min: parseInt(freqMin.value),
                        max: parseInt(freqMax.value)
                    },
                    Corrente: {
                        min: parseFloat(correnteMin.value),
                        max: parseFloat(correnteMax.value)
                    },
                    Pressao: {
                        min: parseFloat(pressaoMin.value),
                        max: parseFloat(pressaoMax.value)
                    }
                }
            }
        };

        try {
            const response = await fetch('https://backend-clu7.onrender.com/inserir_dados_motores', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(dados)
            });
            const result = await response.json();
            console.log('Dados enviados:', result);
        } catch (error) {
            console.error('Erro ao enviar dados:', error);
        }
    }

    // Chamando a função de envio periodicamente
    setInterval(enviarDadosAjustados, intervaloAtual); // Usa o intervalo definido pelo usuário
</script>
